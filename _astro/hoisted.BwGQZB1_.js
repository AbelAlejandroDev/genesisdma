import"./Loading.astro_astro_type_script_index_0_lang.CtcyqNJA.js";document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-bounceIn")})},{threshold:.5}),n=document.getElementById("image-container");e.observe(n)});function m(){const e=document.getElementById("menu"),n=document.getElementById("line1"),t=document.getElementById("line2"),o=document.getElementById("setLine2"),a=document.getElementById("line3");e.classList.contains("open")&&(e.classList.remove("open"),n.setAttribute("values","M5 5L19 19;M5 5L19 5"),t.setAttribute("values","M12 12H12;M5 12H19"),o.setAttribute("to","1"),a.setAttribute("values","M5 19L19 5;M5 19L19 19"),n.beginElement(),t.beginElement(),o.beginElement(),a.beginElement())}document.addEventListener("click",function(e){const n=document.getElementById("menu"),t=document.getElementById("hamburger");!n.contains(e.target)&&!t.contains(e.target)&&m()});document.getElementById("hamburger").addEventListener("click",function(){const e=document.getElementById("menu");e.classList.toggle("open");const n=document.getElementById("line1"),t=document.getElementById("line2"),o=document.getElementById("setLine2"),a=document.getElementById("line3");e.classList.contains("open")?(n.setAttribute("values","M5 5L19 5;M5 5L19 19"),t.setAttribute("values","M5 12H19;M12 12H12"),o.setAttribute("to","0"),a.setAttribute("values","M5 19L19 19;M5 19L19 5")):(n.setAttribute("values","M5 5L19 19;M5 5L19 5"),t.setAttribute("values","M12 12H12;M5 12H19"),o.setAttribute("to","1"),a.setAttribute("values","M5 19L19 5;M5 19L19 19")),n.beginElement(),t.beginElement(),o.beginElement(),a.beginElement()});document.getElementById("nav-links").addEventListener("click",function(e){e.target.tagName==="A"&&m()});const g=document.querySelectorAll(".fade-up"),E=new IntersectionObserver((e,n)=>{e.forEach(t=>{t.isIntersecting?t.target.classList.add("fade-up-active"):t.target.classList.remove("fade-up-active")})});g.forEach(e=>{E.observe(e)});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("myForm"),n=document.getElementById("statusMessage"),t=document.getElementById("countDisplay"),o=document.getElementById("availableSpotsDisplay"),a=document.getElementById("floatButtonZoom"),r=100;let s=0;async function d(){try{const c=await(await fetch("http://localhost/geminis_mail_dispacher/api/get_count.php")).json();c.success&&(s=c.count,t.textContent=s,o.textContent=100-s,a.textContent=`${100-s}`)}catch(i){console.error("Error al obtener el conteo actual:",i)}}d(),e.addEventListener("submit",async i=>{i.preventDefault();const c=new FormData(e);try{const l=await(await fetch("http://localhost/geminis_mail_dispacher/api/register.php",{method:"POST",body:c})).json();l.success?(s=l.count,t.textContent=s.toString(),o.textContent=100-s,a.textContent=`${100-s}`,s>=r?(n.textContent="El límite de inscripciones ha sido alcanzado",e.querySelector('button[type="submit"]').disabled=!0):n.textContent=`Inscritos: ${s}/${r}`):alert(l.message)}catch(u){console.error("Error al enviar los datos:",u),alert("Error al enviar los datos. Inténtalo de nuevo más tarde.")}})});
