import"./Loading.astro_astro_type_script_index_0_lang.CtcyqNJA.js";document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&s.target.classList.add("animate-bounceIn")})},{threshold:.5}),n=document.getElementById("image-container");e.observe(n)});function m(){const e=document.getElementById("menu"),n=document.getElementById("line1"),t=document.getElementById("line2"),s=document.getElementById("setLine2"),o=document.getElementById("line3");e.classList.contains("open")&&(e.classList.remove("open"),n.setAttribute("values","M5 5L19 19;M5 5L19 5"),t.setAttribute("values","M12 12H12;M5 12H19"),s.setAttribute("to","1"),o.setAttribute("values","M5 19L19 5;M5 19L19 19"),n.beginElement(),t.beginElement(),s.beginElement(),o.beginElement())}document.addEventListener("click",function(e){const n=document.getElementById("menu"),t=document.getElementById("hamburger");!n.contains(e.target)&&!t.contains(e.target)&&m()});document.getElementById("hamburger").addEventListener("click",function(){const e=document.getElementById("menu");e.classList.toggle("open");const n=document.getElementById("line1"),t=document.getElementById("line2"),s=document.getElementById("setLine2"),o=document.getElementById("line3");e.classList.contains("open")?(n.setAttribute("values","M5 5L19 5;M5 5L19 19"),t.setAttribute("values","M5 12H19;M12 12H12"),s.setAttribute("to","0"),o.setAttribute("values","M5 19L19 19;M5 19L19 5")):(n.setAttribute("values","M5 5L19 19;M5 5L19 5"),t.setAttribute("values","M12 12H12;M5 12H19"),s.setAttribute("to","1"),o.setAttribute("values","M5 19L19 5;M5 19L19 19")),n.beginElement(),t.beginElement(),s.beginElement(),o.beginElement()});document.getElementById("nav-links").addEventListener("click",function(e){e.target.tagName==="A"&&m()});const d=document.querySelectorAll(".fade-up"),g=new IntersectionObserver((e,n)=>{e.forEach(t=>{t.isIntersecting?t.target.classList.add("fade-up-active"):t.target.classList.remove("fade-up-active")})});d.forEach(e=>{g.observe(e)});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("myForm"),n=document.getElementById("statusMessage"),t=document.getElementById("countDisplay"),s=document.getElementById("availableSpotsDisplay");document.getElementById("floatButtonZoom");const o=100;let a=0;async function u(){try{const i=await(await fetch("https://genesisdma.com/api/get_count.php")).json();i.success&&(a=i.count,console.log(t),t.textContent=a+"",s.textContent=100-a+"")}catch(c){console.error("Error al obtener el conteo actual:",c)}}u(),e.addEventListener("submit",async c=>{c.preventDefault();const i=new FormData(e);try{const l=await(await fetch("https://genesisdma.com/api/register.php",{method:"POST",body:i})).json();l.success?(a=l.count,t.textContent=a+"",s.textContent=100-a+"",a>=o?(n.textContent="El límite de inscripciones ha sido alcanzado",e.querySelector('button[type="submit"]').disabled=!0):n.textContent=`Inscritos: ${a}/${o}`,window.location.href="https://genesisdma.com/zoom/thanks-you"):alert(l.message)}catch(r){console.error("Error al enviar los datos:",r),alert("Error al enviar los datos. Inténtalo de nuevo más tarde.")}})});
